<!DOCTYPE html>
<html lang="en">
    <head>
        <title>HELPET - perdido</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- estilos -->
        <link rel="stylesheet" href="css/base.css">
        <link rel="stylesheet" href="css/componentes.css">
        <link rel="stylesheet" href="css/estilos.css">
        <link rel="stylesheet" href="css/perdido.css">
        <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.css' rel='stylesheet' />
        <!-- scripts -->
        <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.js'></script>
        <script src="js/main.js"></script>
        <script src="https://use.fontawesome.com/fcfd0a87ec.js"></script>
    </head>
    <body>
        <!-- Inicio de menu -->
        <nav class="navbar navbar--inicio">
            <div class="navbar__logo">
                <img src="img/ico-logov.png" alt="logo helpet">
            </div>
            <ul class="navbar__menu">
                <li>
                    <button type="button" onclick="abrirModal('modalIniciarSesion')">Inicia</button>
                </li>
                <li>
                    <a href="/registro">Reg√≠strate</a>
                </li>
            </ul>
        </nav>
        <!-- Final de inicio -->
        <section class="cont cont--inicio">
        <!-- inicio de formulario -->
            <div class="cont--formulario">
                
            </div>
        <!-- Final de formulario -->
        <!-- Inicio del mapa -->
            <div class="cont--mapa">
                <div id='map'></div>
            </div>
        <!-- Final del mapa -->
        </section>
        
        <script>
mapboxgl.accessToken = 'pk.eyJ1IjoiYWx2YXJvcyIsImEiOiJjajRscnh3ZnUwdXFtMndwbHpwdHFqaW9sIn0.YDgJf3xebDmAfj6ymknoUw';
var geojson = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "properties": {
                "message": "soy otro gatito perdido",
                "iconSize": [48, 48]
            },
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -70.246338,
                    -18.006656,
                ]
            }
        }
    ]
};

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v9',
    scrollZoom: false,
    center: [-70.221799, -18.0031498],
    zoom: 13
});

// agregar pines
geojson.features.forEach(function(marker) {
    // crear elemento del pin en el dom
    var el = document.createElement('div');
    el.className = 'marker';
    el.style.backgroundImage = 'url(https://placekitten.com/g/' + marker.properties.iconSize.join('/') + '/)';
    el.style.width = marker.properties.iconSize[0] + 'px';
    el.style.height = marker.properties.iconSize[1] + 'px';

    el.addEventListener('click', function() {
        window.alert(marker.properties.message);
    });

    // agregar pin al mapa
    new mapboxgl.Marker(el, {offset: [-marker.properties.iconSize[0] / 2, -marker.properties.iconSize[1] / 2]})
        .setLngLat(marker.geometry.coordinates)
        .addTo(map);
});
</script>




    </body>
</html>